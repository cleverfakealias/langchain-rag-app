/* Global font improvements */
.stApp {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.6;
}

/* Main header with better contrast - works in both light and dark modes */
.main-header {
    font-size: 2.8rem;
    font-weight: bold;
    color: #1E88E5 !important;
    text-align: center;
    margin-bottom: 2rem;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

/* Sub headers with better contrast */
.sub-header {
    font-size: 1.6rem;
    color: #1976D2 !important;
    margin-bottom: 1rem;
    font-weight: 600;
}

/* Improved chat messages with better contrast for both modes */
.chat-message {
    padding: 1.2rem;
    border-radius: 12px;
    margin: 0.8rem 0;
    font-size: 16px;
    line-height: 1.6;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.user-message {
    background-color: #E3F2FD !important;
    border-left: 5px solid #1976D2 !important;
    color: #0D47A1 !important;
}

.user-message strong {
    color: #1565C0 !important;
}

.user-message span {
    color: #0D47A1 !important;
}

.assistant-message {
    background-color: #F3E5F5 !important;
    border-left: 5px solid #7B1FA2 !important;
    color: #4A148C !important;
}

.assistant-message strong {
    color: #6A1B9A !important;
}

.assistant-message span {
    color: #4A148C !important;
}

/* Force chat message text colors to override any conflicting styles */
.chat-message * {
    color: inherit !important;
}

.user-message * {
    color: #0D47A1 !important;
}

.user-message strong {
    color: #1565C0 !important;
}

.assistant-message * {
    color: #4A148C !important;
}

.assistant-message strong {
    color: #6A1B9A !important;
}

/* Source boxes with better readability */
.source-box {
    background-color: #FFF3E0 !important;
    border: 2px solid #FF9800 !important;
    border-radius: 8px;
    padding: 1rem;
    margin: 0.8rem 0;
    font-size: 14px;
    line-height: 1.5;
    color: #E65100 !important;
}

.source-box * {
    color: #E65100 !important;
}

.source-box strong {
    color: #BF360C !important;
}

/* Status boxes with better contrast */
.success-box {
    background-color: #E8F5E8 !important;
    border: 2px solid #4CAF50 !important;
    border-radius: 8px;
    padding: 1.2rem;
    margin: 1rem 0;
    color: #1B5E20 !important;
    font-weight: 500;
}

.error-box {
    background-color: #FFEBEE !important;
    border: 2px solid #F44336 !important;
    border-radius: 8px;
    padding: 1.2rem;
    margin: 1rem 0;
    color: #B71C1C !important;
    font-weight: 500;
}

.info-box {
    background-color: #E1F5FE !important;
    border: 2px solid #2196F3 !important;
    border-radius: 8px;
    padding: 1.2rem;
    margin: 1rem 0;
    color: #0D47A1 !important;
    font-weight: 500;
}

/* Improve sidebar readability */
.css-1d391kg {
    font-size: 16px;
    line-height: 1.6;
}

/* Improve button text */
.stButton > button {
    font-size: 16px;
    font-weight: 600;
    padding: 0.5rem 1rem;
}

/* Improve input text */
.stTextInput > div > div > input {
    font-size: 16px;
    padding: 0.5rem;
}

/* Improve file uploader text */
.stFileUploader > div {
    font-size: 16px;
}

/* Better contrast for all text - works in both light and dark modes */
.stMarkdown {
    color: inherit !important;
}

/* Improve sidebar headers */
.css-1d391kg h1, .css-1d391kg h2, .css-1d391kg h3 {
    color: #1976D2 !important;
    font-weight: 600;
}

/* Status indicators */
.stStatus {
    font-size: 16px;
    font-weight: 500;
}

/* Progress indicators */
.stProgress > div > div > div {
    background-color: #2196F3 !important;
}

/* Better spacing for status messages */
.stStatus > div {
    padding: 1rem;
    margin: 0.5rem 0;
    border-radius: 8px;
}

/* Dark mode specific improvements */
[data-testid="stAppViewContainer"] {
    background-color: #0E1117;
}

/* Ensure text is readable in dark mode - but not for chat messages */
.stMarkdown p, .stMarkdown div, .stMarkdown span {
    color: #FAFAFA !important;
}

/* Override for chat messages to ensure proper contrast */
.chat-message .stMarkdown p, 
.chat-message .stMarkdown div, 
.chat-message .stMarkdown span {
    color: inherit !important;
}

/* Sidebar dark mode improvements */
.css-1d391kg {
    background-color: #262730;
}

.css-1d391kg p, .css-1d391kg div, .css-1d391kg span {
    color: #FAFAFA !important;
}

/* Chat input improvements */
.stChatInput {
    background-color: #262730 !important;
}

.stChatInput input {
    color: #FAFAFA !important;
    background-color: #262730 !important;
}

/* File uploader improvements */
.stFileUploader {
    background-color: #262730 !important;
}

/* Text input improvements */
.stTextInput input {
    color: #FAFAFA !important;
    background-color: #262730 !important;
}

/* Button improvements for dark mode */
.stButton > button {
    background-color: #1976D2 !important;
    color: #FFFFFF !important;
    border: none !important;
}

.stButton > button:hover {
    background-color: #1565C0 !important;
}

/* Status message improvements */
.stStatus > div {
    background-color: #262730 !important;
    color: #FAFAFA !important;
}

/* Ensure all text elements have proper contrast */
* {
    color-scheme: light dark;
}
